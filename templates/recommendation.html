	<!DOCTYPE html>
	<html lang="zxx" class="no-js">
	<head>
		<!-- Mobile Specific Meta -->
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Favicon-->
		<link rel="shortcut icon" href="{{ url_for('static', filename='img/elements/fav.png') }}">
		<!-- Author Meta -->
		<meta name="author" content="colorlib">
		<!-- Meta Description -->
		<meta name="description" content="">
		<!-- Meta Keyword -->
		<meta name="keywords" content="">
		<!-- meta character set -->
		<meta charset="UTF-8">
		<!-- Site Title -->
		<title>Recommendations</title>

		<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
			<!--
			CSS
			============================================= -->
			<link rel="stylesheet" href="{{ url_for('static', filename='css/linearicons.css') }}">
			<link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.css') }}">
			<link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">
			<link rel="stylesheet" href="{{ url_for('static', filename='css/nice-select.css') }}">
			<link rel="stylesheet" href="{{ url_for('static', filename='css/magnific-popup.css') }}">
			<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
			<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
			<style>
				body > div.main-wrapper > section:nth-child(4) {
					background-image: -webkit-linear-gradient(90deg, #ffffff 0%, #f2f2f2 100%);
				}
				.testomial-area {
					padding-bottom: 100px;
				}
				h2 {
				  text-align: center;
				}

				table caption {
					padding: .5em 0;
				}

				@media screen and (max-width: 767px) {
				  table caption {
				    border-bottom: 1px solid #ddd;
				  }
				}

				.p {
				  text-align: center;
				  padding-top: 140px;
				  font-size: 14px;
				}

				span.stars, span.stars span {
				  display: block;
				  background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/747/star-o-white.svg) 0 0 repeat-x;
				  width: 200px; /* width of a star multiplied by 5 */
				  height: 40px; /* the height of the star */
				  background-size: 40px 40px;
				}

				span.stars span {
				  background-position: 0 0;
				  background-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/747/star.svg);
				}
				.loader {
				  border: 16px solid #f3f3f3; /* Light grey */
				  border-top: 16px solid #3498db; /* Blue */
				  border-radius: 50%;
				  width: 120px;
				  height: 120px;
				  animation: spin 2s linear infinite;
				}

				@keyframes spin {
				  0% { transform: rotate(0deg); }
				  100% { transform: rotate(360deg); }
				}
			</style>
		</head>
		<body>
		  <header id="header" id="home">
		    <div class="container">
		    	<div class="row align-items-center justify-content-between d-flex">
			      <div id="logo">
			        <a href="index.html"><img src="{{ url_for('static', filename='img/logo.png') }}" alt="" title="" /></a>
			      </div>
			      <nav id="nav-menu-container">
			        <ul class="nav-menu">
			          <li class="menu-active"><a href="active.html"><b>Home</b></a></li>
			          <li><a href="logout.html"><b>Sign Out</b></a></li>
			        </ul>
			      </nav><!-- #nav-menu-container -->
		    	</div>
		    </div>
		  </header><!-- #header -->
			<section class="generic-banner relative">
				<div class="container">
					<div class="row height align-items-center justify-content-center">
						<div class="col-lg-10">
							<div class="generic-banner-content">
								{% for key, value in result.items() %}
								<h2 class="text-white text-uppercase">Hey, {{ value }} !</h2>
								{% endfor %}
								<h4 class="text-white text-uppercase">We got recommendations for you.</h4>
							</div>
						</div>
					</div>
				</div>
			</section>
			<!-- End banner Area -->

		<!-- About Generic Start -->
		<div class="main-wrapper">

			<!-- Start testomial Area -->
			<section class="testomial-area pt-100">
				<!--div class="container">
					<div class="row d-flex justify-content-center">
						<div class="menu-content pb-60 col-lg-8">
							<div class="title text-center">
								<h1 class="mb-10">What our Readerâ€™s Say about us</h1>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="active-tstimonial-carusel">

						</div>
					</div>
				</div-->

				<div class="container">
				  <div class="row">
				    <div class="col-xs-12">
							<h1 class="mb-10">Here's What We got for You.</h1>
				      <div class="table-responsive">
				        <table class="table table-bordered table-hover">
				          <thead>
				            <tr>
				              <th></th>
				              <th>Book Cover</th>
				              <th>Title</th>
				              <th>Total Ratings</th>
				              <th>Average Rating</th>
				            </tr>
				          </thead>
				          <tbody>
										<tr>
											<td colspan="5"><center><div class="loader"></div>
</td></center>
										</tr>
				          </tbody>
				          <tfoot>
				          </tfoot>
				        </table>
				      </div><!--end of .table-responsive-->
				    </div>
				  </div>
				</div>
			</section>
			<!-- End testomial Area -->

			<!-- start footer Area -->
			<footer class="footer-area section-gap">
				<div class="container">
					<div class="row">
						<div class="col-lg-5 col-md-6 col-sm-6">
							<div class="single-footer-widget">
								<h6>About Us</h6>
								<p>
									We recommend books to our users based on their interests. To find out yours <span class="font-weight-bold text-uppercase">sign up</span> now.
								</p>
								<p class="footer-text">
								<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
								</p>
							</div>
						</div>
						<div class="col-lg-5  col-md-6 col-sm-6">
							<div class="single-footer-widget">
								<h6>Newsletter</h6>
								<p>Stay update with our latest</p>
								<div class="" id="mc_embed_signup">
									<form target="_blank" novalidate="true" action="" method="get" class="form-inline">
										<input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Email '" required="" type="email">
			                            	<button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>
			                            	<div style="position: absolute; left: -5000px;">
												<input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text">
											</div>

										<div class="info"></div>
									</form>
								</div>
							</div>
						</div>
						<div class="col-lg-2 col-md-6 col-sm-6 social-widget">
							<div class="single-footer-widget">
								<h6>Follow Us</h6>
								<p>Let us be social</p>
								<div class="footer-social d-flex align-items-center">
									<a href="#"><i class="fa fa-facebook"></i></a>
									<a href="#"><i class="fa fa-twitter"></i></a>
									<a href="#"><i class="fa fa-dribbble"></i></a>
									<a href="#"><i class="fa fa-behance"></i></a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</footer>
			<!-- End footer Area -->

			<script src="{{ url_for('static', filename='js/vendor/jquery-2.2.4.min.js') }}"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
			<script src="{{ url_for('static', filename='js/vendor/bootstrap.min.js') }}"></script>
			<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>
  			<script src="{{ url_for('static', filename='js/easing.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/hoverIntent.js') }}"></script>
			<script src="{{ url_for('static', filename='js/superfish.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/jquery.ajaxchimp.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/jquery.magnific-popup.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/jquery.sticky.js') }}"></script>
			<script src="{{ url_for('static', filename='js/jquery.nice-select.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/parallax.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/waypoints.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/jquery.counterup.min.js') }}"></script>
			<script src="{{ url_for('static', filename='js/mail-script.js') }}"></script>
			<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script>
	function load_images(img_links){
		for (i in img_links){
			img_links[i].src=img_links[i].src_toload;
			//console.log(i);
		}
	}
	var starWidth = 40;

	$.fn.stars = function() {
	  return $(this).each(function() {
	    $(this).html($('<span />').width(Math.max(0, (Math.min(5, parseFloat($(this).html())))) * starWidth));
	  });
	}
	function starRatings() {
	  $('span.stars').stars();
	};

	{% for key, value in result.items() %}
	var userID = {{ key }};
	{% endfor %}
	$('#nav-menu-container > ul > li.menu-active > a').attr('href', 'active.html/'+userID)
	//window.onload=load_images;
	$(document).ready(function() {
		$.ajax({type: "POST", contentType: "application/json", url: "autorecommendation.html", data: JSON.stringify([userID, "item"]), success: function(response) {
			var suggestions = JSON.parse(response);
			var img_links = []
			var tbody = $('tbody');
			tbody.empty();
			var cnt = 0;
			for(book in suggestions) {
				console.log(suggestions[book][1]);
				img=jQuery("<img />").addClass("mx-auto")
				var tr = jQuery('<tr />')
				$('<td />').html(++cnt).appendTo(tr);
				var td = $('<td />').append(img)
				td.appendTo(tr);
				$('<td />').html(suggestions[book][0]).appendTo(tr);
				$('<td />').html(suggestions[book][2]).appendTo(tr);
				if(parseFloat(suggestions[book][3]) < 2)
					var r = 1
				else {
					var r = suggestions[book][3]/2;
				}
				console.log(r);
				$('<td />').html($('<span class="stars"/>').html(r)).appendTo(tr);
				tbody.append(tr);
				img[0].src=suggestions[book][1];
				img[0].alt = "{{ url_for('static', filename='img/def.png') }}"
				img[0].onload = function() {
					if(this.width <= 10)
						this.src = this.alt;
				}
				img[0].onerror = function() {
						this.src = this.alt;
				}
				//img_links.push(img);
			}
			starRatings();
		//	load_images(img_links);
		}});
	});
</script>
		</body>
	</html>
